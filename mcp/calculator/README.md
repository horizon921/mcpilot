# 🧮 超级计算器 MCP 服务器

一个专业的数学计算 MCP 服务器，专注于高级矩阵运算和微积分计算，为AI Agent提供强大的数学计算能力。

## 🌟 特性

- 🔢 **高级矩阵运算** - 特征值分解、SVD、矩阵分解等
- ∫ **完整微积分系统** - 符号微积分、数值计算、向量微积分
- 🌀 **复数运算** - 完整的复数数学支持
- 📏 **单位转换** - 多种单位类别转换
- 🎯 **高精度计算** - 基于 NumPy、SciPy、SymPy

## 📦 安装

### 1. 克隆或下载项目文件
```bash
# 确保你有以下文件：
# - server.py
# - install_deps.py
# - test.py
```

### 2. 安装依赖
```bash
python install_deps.py
```

## 🔧 支持的功能

### 1. 基础计算 (`calculate`)

**支持的运算：**
- 四则运算：`+`, `-`, `*`, `/`, `**`（幂）
- 三角函数：`sin`, `cos`, `tan`, `asin`, `acos`, `atan`
- 对数函数：`log`, `log10`, `ln`
- 其他函数：`sqrt`, `abs`, `factorial`, `gcd`, `lcm`

**输入格式：**
```
请计算 2 + 3 * 4
请计算 sin(pi/4) + cos(pi/3)
请计算 sqrt(16) + log(100)
```

### 2. 高级矩阵运算 (`matrix_advanced`)

#### 基础矩阵运算
- `add` - 矩阵加法
- `subtract` - 矩阵减法
- `multiply` - 矩阵乘法
- `transpose` - 矩阵转置

**输入格式：**
```
请计算矩阵 [[1,2],[3,4]] 和 [[5,6],[7,8]] 的加法
请计算矩阵 [[1,2,3],[4,5,6]] 的转置
```

#### 矩阵性质
- `determinant` - 行列式
- `rank` - 矩阵秩
- `trace` - 矩阵的迹
- `norm` - 矩阵范数
- `condition_number` - 条件数

**输入格式：**
```
请计算矩阵 [[1,2],[3,4]] 的行列式
请计算矩阵 [[1,2,3],[4,5,6],[7,8,9]] 的秩
```

#### 矩阵分解
- `eigenvalues` - 特征值
- `eigenvectors` - 特征值和特征向量
- `svd` - 奇异值分解
- `lu_decomposition` - LU分解
- `qr_decomposition` - QR分解
- `cholesky` - Cholesky分解

**输入格式：**
```
请计算矩阵 [[4,-2],[1,1]] 的特征值和特征向量
请对矩阵 [[1,2,3],[4,5,6],[7,8,9]] 进行SVD分解
```

#### 矩阵函数
- `inverse` - 逆矩阵
- `pseudo_inverse` - 伪逆矩阵
- `matrix_power` - 矩阵幂
- `matrix_exp` - 矩阵指数
- `matrix_log` - 矩阵对数

**输入格式：**
```
请计算矩阵 [[2,1],[1,1]] 的逆矩阵
请计算矩阵 [[1,1],[1,0]] 的10次幂
```

#### 线性方程组
- `solve_linear` - 线性方程组求解

**输入格式：**
```
请解线性方程组：系数矩阵 [[2,1],[1,3]]，常数向量 [5,7]
```

### 3. 微积分运算 (`calculus`)

#### 导数运算
- `derivative` - 导数
- `partial_derivative` - 偏导数
- `numerical_derivative` - 数值导数

**输入格式：**
```
请计算函数 x^3 + 2*x^2 + x + 1 的导数
请计算函数 x^2 + y^2 + z^2 对 x 的偏导数
请计算函数 x^4 + 3*x^3 + 2*x^2 + x 的3阶导数
```

#### 积分运算
- `integral` - 不定积分
- `definite_integral` - 定积分
- `numerical_integral` - 数值积分

**输入格式：**
```
请计算函数 x^2 + 2*x + 1 的不定积分
请计算定积分 ∫[0,2] x^2 dx
请计算数值积分 ∫[0,π] sin(x) dx
```

#### 极限和级数
- `limit` - 极限
- `series_expansion` - 级数展开

**输入格式：**
```
请计算极限 lim(x→0) sin(x)/x
请将函数 exp(x) 在 x=0 处展开成5阶泰勒级数
```

#### 向量微积分
- `gradient` - 梯度
- `divergence` - 散度
- `laplacian` - 拉普拉斯算子

**输入格式：**
```
请计算函数 x^2 + y^2 的梯度
请计算函数 x^2 + y^2 + z^2 的拉普拉斯算子
```

### 4. 复数运算 (`complex_numbers`)

**支持的运算：**
- `add` - 复数加法
- `subtract` - 复数减法
- `multiply` - 复数乘法
- `divide` - 复数除法
- `magnitude` - 复数模长
- `phase` - 复数相位角
- `conjugate` - 复数共轭

**输入格式：**
```
请计算复数 (3+4i) 和 (1+2i) 的加法
请计算复数 (3+4i) 的模长和相位角
```

### 5. 单位转换 (`unit_conversion`)

**支持的单位类别：**
- `length` - 长度：mm, cm, m, km, in, ft, yd, mile
- `weight` - 重量：mg, g, kg, lb, oz, ton
- `temperature` - 温度：C, F, K
- `time` - 时间：ms, s, min, h, day, week, month, year
- `area` - 面积：mm2, cm2, m2, km2, in2, ft2, acre
- `volume` - 体积：ml, l, m3, gal, qt, pt, cup, fl_oz

**输入格式：**
```
请将 100 厘米转换为米
请将 32 华氏度转换为摄氏度
请将 1 小时转换为秒
```

## 📝 使用示例

### 矩阵运算示例
```
用户：请计算矩阵 [[1,2],[3,4]] 的特征值和特征向量

系统：特征值:
[5.37228132+0.j -0.37228132+0.j]

特征向量:
[[-0.56576746 -0.90937671]
 [-0.82456484  0.41597356]]
```

### 微积分示例
```
用户：请计算函数 x^3 + 2*x^2 + x + 1 的导数

系统：1阶导数 d^1/dx^1(x**3 + 2*x**2 + x + 1) = 3*x**2 + 4*x + 1
```

```
用户：请计算定积分 ∫[0,2] x^2 dx

系统：定积分 ∫[0→2] x**2 dx = 8/3
```

### 复数运算示例
```
用户：请计算复数 (3+4i) 的模长

系统：复数 (3+4j) 的模长: 5.0
```

## 🔍 输入格式要求

### 矩阵格式
- 使用嵌套列表表示：`[[1,2],[3,4]]`
- 支持整数和浮点数
- 支持复数（自动处理）

### 数学表达式格式
- 使用标准数学符号：`+`, `-`, `*`, `/`, `**`
- 函数名：`sin`, `cos`, `exp`, `log`, `sqrt` 等
- 变量名：`x`, `y`, `z`, `t`
- 常数：`pi`, `e`

### 复数格式
- 使用列表表示：`[实部, 虚部]`
- 例如：`[3, 4]` 表示 3+4i

## 🧪 测试

运行测试脚本验证功能：
```bash
python test.py
```

## 📋 依赖库

- **NumPy** - 数值计算
- **SciPy** - 科学计算
- **SymPy** - 符号数学

## 🎯 适用场景

- 📚 **学术研究** - 复杂数学计算
- 🔬 **科学计算** - 数值分析和模拟
- 📊 **数据分析** - 矩阵运算和统计
- 🎓 **教育教学** - 数学概念演示
- 🏭 **工程计算** - 技术计算需求

## 🚀 版本信息

- **版本**: 3.0.0
- **服务器名称**: super-calculator-advanced
- **协议版本**: 2024-11-05

## 📞 支持

如果遇到问题，请检查：
1. 依赖库是否正确安装
2. 输入格式是否符合要求
3. MCP server 配置是否正确

---

**享受强大的数学计算能力！** 🎉
